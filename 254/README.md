### آرشیو ارائه "چند نکته از خط فرمان" در جلسه ۲۵۴


`find / - type f -printf "%s\t%p\n" 2>/dev/null|sort -nr|head`

با استفاده از دستور بالا می تونیم 10 تا فایل بزرگ داخل سیستم عامل رو پیدا کنیم.
درواقع این دستور خودش از 3 تا دستور تشکیل شده که با استفاده از پایپ کردن ( | ) تونستیم اون ها رو با هم ترکیب کنیم.
دستور find :
این دستور یک ابزار قدرت مند برای انجام عملیات جستجو هست. و امکانات زیادی داره.
کلی این دستور به این شکل هست syntax

find [path] [options] [expression]

جلوی اون باید ابتدا مسیری رو که میخایم اونجا جستجو انجام بشه رو مشخص کنیم. اگر این کار رو نکنیم جستجو توی دایرکتوری جاری انجام میشه.
در دستور بالا ما مسیر / رو انتخاب کردیم. چون میخایم جستجو توی کل سیستم عامل و همه دایرکتوری هاش انجام بشه.
بعد از اون میتونیم از سوئیچ های مختلف این دستور استفاده کنیم. مثلا سوئیچ 
-type
 مشخص میکنه که ما دنبال چه نوع فایلی هستیم یعنی :
 
 f : file
 
 d : directory
 
 b : block 
 
 
 و وقتی نوع خروجی رو فایل در نظر بگیریم دیگه سایر موارد نشون داده نمیشه.
 
 در ادامه با استفاده از سوئیچ 
 
 -printf 
 
 فرمت نمایش خروجی ها رو تغییر دادیم. جلوی 
 
 -printf
 
 و داخل "" میتونیم فرمت مورد نظرمون رو مشخص کنیم.
 
 مثلا "%s\t%p\n"
 
 %s : یعنی سایز فایل ها رو نمایش بده (بر حسب بایت)
 
 \t : یعنی به اندازه یک تب فاصله بنداز و برو جلو (tab)
 
 %p : یعنی نام فایل ها رو نمایش بده

 \n : یعنی برو خط بعد 
 
 در ادامه با استفاده از 
 
 2>/dev/null
 
 ارور هایی که در هنگام جستجو ممکنه بهشون بر بخوریم رو به دیوایس نال ریدایرکت کردیم. تا نمایش داده نشن.
 بعد از اون با استفاده از |  خروجی استاندارد دستور 
 find  
 رو به دستور 
 sort
 منتقل کردیم.
 
 دستور sort :
 
 این دستور می تواند محتوا را برای ما مرتب کند.
 
 -n : یعنی بر حسب عدد محتوا را مرتب کن
 -r : یعنی این کار را با ترتیب نزولی انجام بده
 
 نهایتا دوباره با استفاده از | خروجی این دستور رو هم به دستور 
 head
 پاس دادیم .
 
 این دستور در حالت پیش فرض هر ورودی متنی که دریافت کند 10 خط اول آن را بر می گرداند.
 پس در نتیجه از بین کل فایل هایی که دستور
 find 
 برای ما پیدا کرد و دستور 
 sort
 آنها را از بزرگ به کوچک مرتب کرد 10 تا خط اول به ما نمایش داده میشه.
 که درواقع همون 10 تا فایل بزرگ توی سیستم عامل ما هستن.
 
 همچنین می تونیم تعداد خروجی های نمایش داده شده رو با استفاده از سوئیچ 
 -n
 تغییر بدیم
 
 مثلا 
 head -15
 head -5
 که در این صورت به ترتیب 15 و 5 مورد از خروجی ها به ما نمایش داده میشن.
