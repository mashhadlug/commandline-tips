ابزار screen :

screen یک terminal multiplexer هست . terminal multiplexer ها این امکان رو به ما میدن که یک صفحه ترمینال رو به چند تا ترمینال جداگانه تقسیم کنیم و همزمان چند تا دستور رو توی یک صفحه ترمینال انجام بدیم.

برای اینکه از screen استفاده کینم فقط کافیه توی ترمینال بنویسیم 
screen
حالا screen فراخوانی شده و میتونیم از  قابلیت هاش استفاده کنیم.

این ابزار یکسری short-key داره که با استفاده از اونها میتونیم باهاش کار کنیم.
نکته : پیشوند همه این short-key ها ctrl+a هست. یعنی از هرکدومشون بخایم استفاده کنیم باید اول ctrl+a رو بزنیم و بعدش کارکتر بعدی رو وارد کنیم.
تکنه : با استفاده از  screen ما میتونیم توی یک ترمینال window های مختلفی به وجود بیاریم و همزمان توی هر کدوم شون کار های مختلفی انجام بدیم.

window ها :

ctrl+a-w  

لیست همه window ها رو نشون میده . علامت * یعنی در حال حاضر توی اون window هستیم.


ctrl+a-c  


یک window جدید ایجاد میکنه.


ctrl+a-n  -->
وارد window بعدی میشه.
ctrl+a-p  -->
وارد window قبلی میشه.
ctrl+a-NUMBER --> 
وارد window شماره n میشه که NUMBER همون شماره window هست.
ctrl+a-"  -->
لیست همه window ها رو نشون میده و میتونیم window وارد window مورد نظر بشیم.
ctrl+a-k  --> 
window که داخل اون هستیم رو از بین می بره.

region ها :

علاوه بر این میتونیم یک صفحه رو به چندین ناحیه یا region تقسیم کنیم. و مشخص کنیم  که هر window توی کدوم ناحیه نمایش داده بشه. اینطوری میتونیم توی یک صفحه به همه window ها نظارت داشته باشیم و باهاشون کار کنیم.

ctrl+a-S  --> صفحه رو به صورت افقی به دو قسمت تقسیم میکنه.
ctrl+a-|  -->  صفحه رو به صورت عمودی به دووقسمت تقسیم میکنه.
ctrl+a-tab  -->  از یک ناحیه به ناحیه دیگه می بره.
ctrl+a-Q  -->  همه ناحیه ها رو از بین می بره.
ctrl+a-X  -->   ناحیه ای که در حال حاضر توی اون هستیم رو از بین می بره.

توجه کنید : باید مشخص کیند که توی هر ناحیه کدوم window نمایش داده بشه . برای این کار هم میتونیم از short-key هایی که در ابتدا معرفی کردیم استفاده کنیم.

session ها :

با هربار فراخوانی screen یک session ایجاد میشه . و هر تعداد window توی اون ایجاد کنید در داخل اون session کار میکنن.
در نتیجه اگه ارتباط تون با سیستم مقصد قطع بشه یا ترمینال رو ببندید  فقط session شما detach شده. و همه برنامه ها و window ها در background در حال اجرا باقی می مونن. و مشکلی پیش نمیاد.
و میتونید بعدا دوباره اون session رو attache کنید و همه چیز سر جاشه.

برای اینکه ببینیم در حال حاضر چند تا session فعال داریم از سوئیچ -ls یا -list دستور screen استفاده می کنیم.

screen - ls or screen - list

و همه session ها به همراه  بعضی از جزیات شون از جمله session-PID به ما نشون داده میشه.

برای attach کردن یک session از دستور screen -r SESSION-PID اون استفاده می کنیم.

ctrl+a-d  --> session که داخل اون هستیم رو detach میکنه .
screen -S SESSION-PID -X quit  --> session با SESSION-PID مورد نظر رو از بین میبره .
ctrl+a-\  -->  session که داخل اون هستیم رو از بین میبره.

copy/scrollback mode :

یکی از امکانات جالب و کاربردی که screen در اختیار ما میزاره حالت copy mode هست . با استفاده از این قابلیت میتونید در داخل ترمینال هر چیزی رو بدون استفاده از mouse کپی کنید.
علاوه بر کپی کردن توی این حالت امکان scroll کردن توی ترمینال رو هم خواهیم داشت.

برای وارد شدن به این حالت این short-key رو بزنید.
ctrl+a-[
حالا می تونید scroll کنید و courser رو بیارید ابتدای عبارتی که میخاین اونو کپی کنید. و کلید space رو بزنید.
حالا میتونید تا هرجا که بخاین اسکرول کنید. عبارت ها رو انتخواب کنید و بعد از انتخاب کردن دوباره space رو بزنید.
حالا از حالت copy mode خارج شدیم
برای paste کردن چیز هایی که کپی کردیم کافیه این short-key رو بزنیم.

ctrl+a-]
 
ctrl+a-?  -->  یک لیست از short-key ها به همراه توضیحات به شما نمایش میده.


علاوره بر اینها میتونید توی فایل های /etc/screenrc و ~/.screenrc توی short-key ها و تنظیمات screen به دلخواه تغییرات ایجاد منید.




https://learning.lpi.org/en/learning-materials/101-500/103/103.5/103.5_02/


